<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Causal Mediation Analysis • mediator</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Causal Mediation Analysis">
<meta property="og:description" content="Performs causal mediation analysis to estimate controlled,
    natural and indirect effects. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mediator</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/mediator-intro.html">Introduction to causal mediation</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="news/index.html">
    <span class="fa fa fa fa-newspaper-o fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/gerkelab/mediator">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://gerkelab.com">
    <span class="fa fa-flask fa-lg"></span>
     
    GerkeLab
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="mediator-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#mediator-" class="anchor"></a>mediator <img src="reference/figures/hex.png" align="right" height="139">
</h1></div>
<!-- badges: start -->

<p>The goal of <code>mediator</code> is to conduct causal mediation analysis under the counterfactual framework, allowing interation between the exposure and mediator (<a href="#references">1</a>). Currently, <code>mediator</code> estimates the controlled direct effect (CDE), natural direct effect (NDE), natural indirect effect (NIE), total effect (TE), and proportion mediated (PM), along with 95% confidence intervals for each.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install <code>mediator</code> from GitHub with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># install.packages("devtools")</span>
<span class="kw">devtools</span>::<span class="fu">install_github</span>(<span class="st">"gerkelab/mediator"</span>)
</pre></div>
<!--- add CRAN once up --->
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p><code>mediator</code> currently implements mediation analyses for binary and continuous exposures/mediators/outcomes, as well as censored time-to-event outcomes. As with all causal inference approaches, estimate validity relies on appropriate assumptions and model specification on the part of the user.</p>
<p>To demonstrate usage, we consider the <code>mediation_example</code> data included with <code>mediator</code>. This data set contains exposure/treatment variable <code>x</code> (binary), mediator variables <code>m</code> (continuous) and <code>m_01</code> (binary), outcome variable <code>y</code> (binary), and confounder <code>c</code> (continuous).</p>
<p><img src="reference/figures/mediator-dag.png"></p>
<p>In the above DAG the path for the NIE is shown in blue while the path for the NDE is in purple. The TE is the combined effect of both the NIE and NDE. When no interaction between the exposure and mediator exists, the CDE and NDE are the same.</p>
<p>The simplest use case of <code>mediator</code> would be as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">


<span class="kw">mediator</span>::<span class="fu"><a href="reference/mediator.html">mediator</a></span>(data = <span class="kw">mediation_example</span>,
                   out.model = <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span>(<span class="kw">y</span> <span class="op">~</span> <span class="kw">x</span> <span class="op">+</span> <span class="kw">m_01</span> <span class="op">+</span> <span class="kw">c</span> <span class="op">+</span> <span class="kw">x</span><span class="op">*</span><span class="kw">m_01</span>,
                                   family = <span class="st">"binomial"</span>,
                                   data = <span class="kw">mediation_example</span>),
                   med.model = <span class="fu"><a href="https://rdrr.io/r/stats/glm.html">glm</a></span>(<span class="kw">m_01</span> <span class="op">~</span> <span class="kw">x</span> <span class="op">+</span> <span class="kw">c</span>, 
                                   family = <span class="st">"binomial"</span>,
                                   data = <span class="kw">mediation_example</span>),
                   treat = <span class="st">"x"</span>)
<span class="co">## # A tibble: 5 x 4</span>
<span class="co">##   Effect              Estimate `Lower 95% CI` `Upper 95% CI`</span>
<span class="co">##   &lt;chr&gt;                  &lt;dbl&gt;          &lt;dbl&gt;          &lt;dbl&gt;</span>
<span class="co">## 1 CDE                   0.279          0.0581           1.34</span>
<span class="co">## 2 NDE                   0.517          0.226            1.19</span>
<span class="co">## 3 NIE                   1.05           0.905            1.22</span>
<span class="co">## 4 Total Effect          0.542          0.235            1.25</span>
<span class="co">## 5 Proportion Mediated  -0.0553        NA               NA</span>
</pre></div>
<p>A data frame (printed to the console if not assigned to an object) is returned containing the point estimates and 95% confidence intervals.</p>
<p>Since the outcome was a based on a binomial logistic regression, the results from this example are interpreted as a series of odds ratio. When the outcome model is a linear regression, the results are intrepreted as average values. Relative risks can be used for binary outcomes when appropriate and thus intrepreted under that model.</p>
<p>In this example, based on the CDE, when <code>m_01</code> = 1, the effect of <code>x</code> on <code>y</code> is 0.28; while according to the NDE, when <code>m_01</code> is the value observed in the absense of <code>x</code> (<code>x</code> = 0), the effect of <code>x</code> on <code>y</code> is 0.52. The NIE tells that the effect of <code>x</code> on <code>y</code> through <code>m_01</code> is 1.05. The TE of <code>x</code> on <code>y</code> , both direct and indirect, is 0.54.</p>
<p>Since the TE is the combined effect of the NDE and NIE, statistically significant effects can be observed in opposite directions and result in a TE that is roughly equal to 0.</p>
</div>
<div id="additional-resources" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-resources" class="anchor"></a>Additional resources</h2>
<p><a href="https://github.com/jhcreed/bsp2020-mediator">Slides and abstract</a> for a talk on mediation analysis using <code>mediator</code> given at the 2020 Best Statistical Practice Conference.</p>
<p>For an in-depth explanation of mediation analysis or complementary tools for SAS or SPSS users, please check out Linda Valeri and Tyler VanderWeele’s paper and macros, which are available on VanderWeele’s <a href="https://www.hsph.harvard.edu/tyler-vanderweele/tools-and-tutorials/">website</a>.</p>
<p>The parametric model-based approach of <code>mediator</code> differs from another R package, <a href="https://cran.r-project.org/web/packages/mediation/vignettes/mediation.pdf"><code>mediation</code></a>, which conducts mediation analysis under a non-parametric framework.</p>
<p>Additional examples of <code>mediator</code> are available under <a href="https://github.com/GerkeLab/mediator/tree/tag-edits/vignettes">vignettes</a>, as well as comparisons of <code>mediator</code> and the SAS macro <code>%mediation</code>.</p>
<hr>
<div id="references" class="section level3">
<h3 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h3>
<ol>
<li>Valeri, L. and T. J. Vanderweele. 2013. “Mediation analysis allowing for exposure-mediator interactions and causal interpretation: theoretical assumptions and implementation with SAS and SPSS macros.” Psychol Methods 18 (2): 137–50.</li>
</ol>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="http://github.com/gerkelab/mediator/">http://​github.com/​gerkelab/​mediator/​</a>
</li>
<li>Report a bug at <br><a href="http://github.com/gerkelab/mediator/issues">http://​github.com/​gerkelab/​mediator/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Jordan Creed <br><small class="roles"> Maintainer, author </small>  </li>
<li>
<a href="https://travisgerke.com">Travis Gerke</a> <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://travis-ci.com/GerkeLab/mediator"><img src="https://img.shields.io/travis/GerkeLab/mediator/master?logo=travis&amp;style=flat&amp;label=Linux" alt="Travis build status"></a></li>
<li><a href="https://github.com/GerkeLab/mediator/actions?query=workflow%3A%22R+CMD+Check+Windows%2FMacOS%2FUbuntu%22"><img src="https://github.com/GerkeLab/mediator/workflows/R%20CMD%20Check%20Windows/MacOS/Ubuntu/badge.svg" alt="R CMD Check Windows/MacOS/Ubuntu"></a></li>
<li><a href="https://codecov.io/gh/GerkeLab/mediator?branch=master"><img src="https://codecov.io/gh/GerkeLab/mediator/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Jordan Creed, <a href="https://travisgerke.com">Travis Gerke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
